<h1>Exchange Rate</h1>
<p>300 limit request</p>

<form [formGroup]="currencyForm" (ngSubmit)="onSubmit()">
  <label for="base">Base Currency:</label>
  <select id="base" formControlName="base">
    <option *ngFor="let currency of currencies" [value]="currency.code">{{ currency.code }} - {{ currency.name }}</option>
  </select>

  <label for="target">Target Currency:</label>
  <select id="target" formControlName="target">
    <option *ngFor="let currency of currencies" [value]="currency.code">{{ currency.code }} - {{ currency.name }}</option>
  </select>

  <label for="amount">Amount:</label>
  <input id="amount" formControlName="amount" type="number">

  <button type="submit">Convert Amount</button>
</form>

<div *ngIf="currencyData$ | async as currencyData">
  <p *ngIf="currencyData?.data?.[currencyForm.get('target')?.value]">
    Exchange Rate: {{ currencyData.data[currencyForm.get('target')?.value].value }}
  </p>
  <p *ngIf="!currencyData?.data?.[currencyForm.get('target')?.value]">
    Exchange rate data is not available.
  </p>
</div>

<div *ngIf="convertedAmount !== null">
  <p>Converted Amount: {{ convertedAmount }}</p>
</div>